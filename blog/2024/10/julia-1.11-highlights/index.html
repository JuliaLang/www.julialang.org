<!doctype html>
<html lang="en">
<head>
	<!-- parts for all pages -->
	<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="author" content="Jeff Bezanson, Stefan Karpinski, Viral Shah, Alan Edelman, et al.">
<meta name="description" content="The official website for the Julia Language. Julia is a language that is fast, dynamic, easy to use, and open source. Click here to learn more.">
<meta name="robots" content="max-image-preview:large">
<meta name="twitter:site:id" content="1237720952"> <!-- @JuliaLanguage -->
<meta name="google-site-verification" content="9VDSjBtchQj6PQYIVwugTPY7pVCfLYgvkXiRHjc_Bzw" /> <!-- Google News Feed -->


	<link rel="icon" href="/assets/infra/julia.ico">

  <!-- Franklin stylesheets for generated pages -->
  
   <link rel="stylesheet" href="/libs/highlight/github.min.css">
  

	<!-- NOTE: specific stylesheets -->
<link rel="stylesheet" href="/libs/bootstrap/bootstrap.min.css">
<link rel="stylesheet" href="/css/app.css">
<link rel="stylesheet" href="/css/franklin.css">
<link rel="stylesheet" href="/css/fonts.css">
<link href="https://fonts.googleapis.com/css?family=Roboto:400,400i,500,500i,700,700i" rel="stylesheet">
<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script async defer src="/libs/buttons.js"></script>
<script src="/libs/clipboard.min.js"></script>
<script src="/libs/detectdark.js"></script>


<script defer data-domain="julialang.org" src="https://plausible.io/js/script.js"></script>

<!-- scripts for map rendering -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
crossorigin=""/>

<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
 integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
 crossorigin=""></script>

<!-- https://github.com/Leaflet/Leaflet.markercluster -->
<script src="https://cdn.jsdelivr.net/npm/leaflet.markercluster@1.4.1/dist/leaflet.markercluster-src.min.js"></script>

<script src="https://kit.fontawesome.com/f030d443fe.js" crossorigin="anonymous"></script>


   <title>Julia 1.11 Highlights</title>   

  
  <style>
	  .container ul li p {margin-bottom: 0;}
		.container ol li p {margin-bottom: 0;}
		.container ul ul {margin: .4em 0 .4em 0;}
		.container ul ol {margin: .4em 0 .4em 0;}
		.container ol ul {margin: .4em 0 .4em 0;}
		.container ol ol {margin: .4em 0 .4em 0;}
  </style>
  

  <!-- Specific style for blog pages (except the /blob/index) -->
  
  <style>
    .main { font-family: Georgia; }
    .main pre {
  	  margin-left: auto;
  	  margin-right: auto;
    }
    .main { width: 100%; font-size: 100%; }
    .main code { font-size: 90%; }
    .main pre code { font-size: 90%; }
    @media (min-width: 940px) {
      .main { width: 800px; }
      .container.blog-title { width: 800px;}
    }
  </style>
  

  <!-- OGP Metadata -->
	<meta property="og:title" content="Julia 1.11 Highlights">
<meta property="og:description" content="Highlights of the Julia 1.11 release.">
<meta property="og:image" content="/assets/images/julia-open-graph.png">


</head>

<body>

<div class="container py-3 py-lg-0">
  <nav class="navbar navbar-expand-lg navbar-light bg-light" id="main-menu">
    <!-- LOGO -->
    <a class="navbar-brand" href="/">
      <img class="julialogo" src="/assets/infra/logo.svg" alt="JuliaLang Logo">
    </a>

    <button class="navbar-toggler ml-auto hidden-sm-up float-xs-left" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

      <!-- MENU: DOWNLOAD | DOCUMENTATION | BLOG ... -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mx-auto">
        <li class="nav-item   flex-md-fill text-md-center">
          <a class="nav-link" href="/downloads/">Download</a>
        </li>
        <li class="nav-item flex-md-fill text-md-center">
          <a class="nav-link" href="https://docs.julialang.org">Documentation</a>
        </li>
        <li class="nav-item   flex-md-fill text-md-center">
          <a class="nav-link" href="/learning/">Learn</a>
        </li>
        <li class="nav-item active flex-md-fill text-md-center">
          <a class="nav-link" href="/blog/">Blog</a>
        </li>
        <li class="nav-item   flex-md-fill text-md-center">
          <a class="nav-link" href="/community/">Community</a>
        </li>
        <li class="nav-item   flex-md-fill text-md-center">
          <a class="nav-link" href="/contribute/">Contribute</a>
        </li>
        <li class="nav-item   flex-md-fill text-md-center">
          <a class="nav-link" href="/jsoc/">JSoC</a>
        </li>
      </ul>
      <span class="navbar-right">
        <a class="github-button" href="https://github.com/JuliaLang/julia" data-size="large" data-show-count="true" aria-label="Star JuliaLang/julia on GitHub">Star</a>
        <a class="github-button" href="https://github.com/sponsors/julialang" data-icon="octicon-heart" data-size="large" aria-label="Sponsor @julialang on GitHub">Sponsor</a>
      </span>
    </div>

  </nav>
</div>


<br><br>


<div class="container blog-title">
  <h1>Julia 1.11 Highlights
    <a type="application/rss+xml" href="https://julialang.org/feed.xml">
      <i class="fa fa-rss-square rss-icon"></i>
    </a>
  </h1>
  <h3>
   <span style="font-weight: lighter;"> 8 October 2024 </span>
	|
	
	 <span style="font-weight: bold;"></span> 
  <!-- assumption that only one of the two is defined -->
   <span style="font-weight: bold;">The Julia contributors </span> 
  </h3>
</div>



<a href="https://github.com/JuliaLang/www.julialang.org/blob/master/blog/2024/10/julia-1.11-highlights.md" title="Edit this page on GitHub" class="edit-float">
</a>


<!-- Content appended here -->
<div class="container main">
<p>After two alphas, two betas, and four release candidates, Julia version 1.11 has finally&#40;&#33;&#33;&#33;&#41; been released. We want to thank all the contributors to this release and all the testers who helped find regressions and issues in the pre-releases. Without you, this release would not have been possible.</p>
<p>The full list of changes can be found in the <a href="https://github.com/JuliaLang/julia/blob/release-1.11/NEWS.md">NEWS file</a>, but here we&#39;ll give a more in-depth overview of some of the release highlights.</p>
<div class="announcement"><strong>1.10 becomes LTS</strong> A quick note about 1.10 first. With the release of 1.11, 1.10 becomes the LTS version, which was previously 1.6. Consider using the new <code>lts</code> version specifier with <a href="https://julialang.org/downloads">juliaup</a> and the <a href="https://github.com/julia-actions/setup-julia#examples">julia-actions/setup-julia</a> github action.</div>

<h1 id="array_now_implemented_in_julia_new_memory_type"><a href="#array_now_implemented_in_julia_new_memory_type" class="header-anchor"><code>Array</code> now implemented in Julia, new <code>Memory</code> type</a></h1>
<p><em>Jameson Nash</em> , <em>Oscar Smith</em></p>
<p>Prior to Julia 1.11, <code>Array</code> was a special object in Julia. Operations like resizing and creation had to be done completely in C, which created overhead and made some of the code much harder to write and difficult for the compiler to optimize. <code>Array</code> also had some features that were unnecessary for some uses &#40;e.g. resizing and multiple dimensions&#41; which imposed a small cost. To fix this, in https://github.com/JuliaLang/julia/pull/51319, we added a new, lower level <code>Memory</code> type, which allowed re-implementing all of <code>Array</code> in Julia code on top of it. This moved much of the complexity around resizing and copying an array into pure Julia code. And it allowed a few important data types, that don’t need all of <code>Array</code>’s features &#40;such as <code>Dict</code>&#41;, to avoid a small amount of overhead. This has led to some great performance improvements. For example, <code>push&#33;</code> on Array is now roughly ~2x faster, and several types in Base now use slightly less memory.</p>
<p>This new feature was presented at JuliaCon and can be seen <a href="https://www.youtube.com/watch?v&#61;L6BFQ1d8xNs">here</a>.</p>
<h1 id="new_public_keyword"><a href="#new_public_keyword" class="header-anchor">New <code>public</code> keyword</a></h1>
<p><em>Lilith Hafner</em></p>
<p>In previous Julia versions, there was no &quot;programmatic way&quot; of knowing if an unexported name was considered part of the public API or not. Instead, the guideline was basically that if it was not in the manual then it was not public which was a bit underwhelming. To remedy that, there is now a <code>public</code> keyword in Julia that can be used to indicate that an unexported name is part of the public API. Whether a name is public or not can now be checked with the &#40;public&#41; method <code>Base.ispublic&#40;m::Module, name::Symbol&#41;</code>, and this is for example used by the help system in the REPL to indicate if a documented name is non-public:</p>
<pre><code class="julia hljs">help?&gt; GC.in_finalizer
  │ Warning
  │
  │  The following bindings may be internal; they may change or be removed <span class="hljs-keyword">in</span> future versions:
  │
  │    •  Base.GC.in_finalizer

  GC.in_finalizer()::<span class="hljs-built_in">Bool</span>

  Returns <span class="hljs-literal">true</span> <span class="hljs-keyword">if</span> the current task is running a finalizer, returns <span class="hljs-literal">false</span> otherwise. Will also <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span> within a finalizer which was inlined by the compiler&#x27;s eager finalization optimization, or <span class="hljs-keyword">if</span> finalize is called on the finalizer
  directly.</code></pre>
<p>This new feature was presented at JuliaCon and can be seen <a href="https://www.youtube.com/watch?v&#61;2o8MhoN-3NE">here</a></p>
<h1 id="manifest_versioning"><a href="#manifest_versioning" class="header-anchor">Manifest versioning</a></h1>
<p><em>Ian Butterworth</em></p>
<p><code>Manifest.toml</code> files can now be renamed in the format <code>Manifest-v&#123;major&#125;.&#123;minor&#125;.toml</code> to be preferentially picked up by the given julia version. i.e. in the same folder, a <code>Manifest-v1.11.toml</code> would be used by v1.11 and <code>Manifest.toml</code> by every other julia version. This makes managing environments for multiple julia versions at the same time easier. To create such a manifest it is recommended rename an already generated manifest, rather than start with an empty file.</p>
<h1 id="improved_tab_completion_and_hinting_in_the_repl"><a href="#improved_tab_completion_and_hinting_in_the_repl" class="header-anchor">Improved tab completion and hinting in the REPL</a></h1>
<p><em>Ian Butterworth</em>, <em>Shuhei Kadowaki</em></p>
<p>Tab completion has become more powerful in 1.11 and gained inline hinting when there is a singular completion available that can be completed with tab.</p>
<p><img src="/assets/blog/2024-1.11-highlights/inline_complete.png" alt="" /></p>
<p>If you prefer not to have hinting enabled, disable it via your <code>startup.jl</code> with</p>
<pre><code class="julia hljs">atreplinit() <span class="hljs-keyword">do</span> repl
    <span class="hljs-keyword">if</span> <span class="hljs-literal">VERSION</span> &gt;= <span class="hljs-string">v&quot;1.11.0-0&quot;</span>
        repl.options.hint_tab_completes = <span class="hljs-literal">false</span>
    <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span></code></pre>
<h1 id="sources_section_in_projecttoml_in_pkgjl"><a href="#sources_section_in_projecttoml_in_pkgjl" class="header-anchor">Sources section in Project.toml in Pkg.jl</a></h1>
<p><em>Kristoffer Carlsson</em></p>
<p>Previously to be able to instantiate an environment that used unregistered dependencies it was required that the manifest file was available since that file gave the information of e.g. what URL the unregistered dependencies are available. Now this information can be specified in the Project file, for example:</p>
<pre><code class="toml hljs"><span class="hljs-section">[sources]</span>
<span class="hljs-attr">MyUnregisteredPackage</span> = {url = <span class="hljs-string">&quot;https://github.com/JuliaLang/MyUnregisteredPackage.jl&quot;</span>}</code></pre>
<p>This feature was also shown at JuliaCon and can be seen <a href="https://youtu.be/7n27lF_SrxY?t&#61;19">here</a>.</p>
<h1 id="precompile_file_relocatability"><a href="#precompile_file_relocatability" class="header-anchor">Precompile file relocatability</a></h1>
<p><em>Florian Atteneder</em></p>
<p>Enabling relocation of cache files, together with other improvements coming in v1.11, will help Pkg.jl to serve cache files in the future.</p>
<p>To automatically enable relocatability follow <a href="https://pkgdocs.julialang.org/v1/creating-packages/#Best-Practices">Pkg.jl&#39;s Best Practices</a>, i.e. do not assume that your package code ends up in a writeable or stable location. Instead, utilize existing tools like Artifacts.jl, Scratch.jl or Preferences.jl to make your package self-contained, immutable, and relocatable.</p>
<p>The usage of non-relocatable packages continues to work as before. Attempting to relocate such a package should only occur re-precompilation overhead.</p>
<p>Pitfalls for relocation:</p>
<ul>
<li><p>Usage of <code>@__DIR__, @__FILE__</code> &#39;burns&#39; absolute paths into package images.</p>
</li>
</ul>
<p>In general, avoid absolute paths or relative paths outside the package&#39;s root directory.</p>
<h1 id="stdlib_excision"><a href="#stdlib_excision" class="header-anchor">Stdlib excision</a></h1>
<p><em>Valentin Churavy</em>, <em>Kristoffer Carlsson</em></p>
<p>After the introduction of package-images for native caching in Julia 1.10, we started the process of moving standard libraries out of the system-image. This produces a smaller Julia system-image and startup for small scripts being faster.</p>
<pre><code class="julia hljs">% hyperfine &#x27;julia +<span class="hljs-number">1.10</span> --startup-file=no -e <span class="hljs-string">&quot;1+1&quot;</span>&#x27;
Benchmark <span class="hljs-number">1</span>: julia +<span class="hljs-number">1.10</span> --startup-file=no -e <span class="hljs-string">&quot;1+1&quot;</span>
  Time (mean ± σ):     <span class="hljs-number">113.2</span> ms ±   <span class="hljs-number">2.8</span> ms    [User: <span class="hljs-number">108.9</span> ms, System: <span class="hljs-number">25.9</span> ms]
  Range (min … max):   <span class="hljs-number">109.2</span> ms … <span class="hljs-number">117.9</span> ms    <span class="hljs-number">25</span> runs</code></pre>
<pre><code class="julia hljs">% hyperfine &#x27;julia +<span class="hljs-number">1.11</span> --startup-file=no -e <span class="hljs-string">&quot;1+1&quot;</span>&#x27;
Benchmark <span class="hljs-number">1</span>: julia +<span class="hljs-number">1.11</span> --startup-file=no -e <span class="hljs-string">&quot;1+1&quot;</span>
  Time (mean ± σ):      <span class="hljs-number">91.9</span> ms ±   <span class="hljs-number">3.0</span> ms    [User: <span class="hljs-number">72.5</span> ms, System: <span class="hljs-number">19.1</span> ms]
  Range (min … max):    <span class="hljs-number">88.7</span> ms … <span class="hljs-number">100.8</span> ms    <span class="hljs-number">29</span> runs</code></pre>
<p>Excising standard libraries also introduces the opportunity in the future to update standard libraries independently of Julia. Consequently since this release standard libraries will have their own version numbers. Our goal is to make the development of standard libraries faster and lower the barrier of entry for contributions.</p>
<h1 id="scopedvalues"><a href="#scopedvalues" class="header-anchor">ScopedValues</a></h1>
<p>ScopedValues are a new runtime supported datatype that provides an alternative to globals for configuration parameters.</p>
<p>The example below uses ScopedValues to implement permission checking in a web application. When a request is initially processed the permission level needs to be checked only once and all subsequent processing of the request will <em>dynamically</em> inherit the state of the ScopedValue. Dynamically means that the state of ScopedValues is propagated to child functions and child tasks.</p>
<pre><code class="julia hljs"><span class="hljs-keyword">using</span> Base.ScopedValues

<span class="hljs-keyword">const</span> LEVEL = ScopedValue(:GUEST)

<span class="hljs-keyword">function</span> serve(request, response)
    level = isAdmin(request) ? :ADMIN : :GUEST
    with(LEVEL =&gt; level) <span class="hljs-keyword">do</span>
        Threads.<span class="hljs-meta">@spawn</span> handle(request, response)
    <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-keyword">function</span> open(connection::Database)
    level = LEVEL[]
    <span class="hljs-keyword">if</span> level !== :ADMIN
        error(<span class="hljs-string">&quot;Access disallowed&quot;</span>)
    <span class="hljs-keyword">end</span>
    <span class="hljs-comment"># ... open connection</span>
<span class="hljs-keyword">end</span>

<span class="hljs-keyword">function</span> handle(request, response)
    <span class="hljs-comment"># ...</span>
    open(Database(<span class="hljs-comment">#=...=#</span>))
    <span class="hljs-comment"># ...</span>
<span class="hljs-keyword">end</span></code></pre>
<h1 id="new_main_entry_point"><a href="#new_main_entry_point" class="header-anchor">New main entry point</a></h1>
<p><em>Keno</em></p>
<p>The entry point for Julia has been standardized to <code>Main.main&#40;args&#41;</code>. This must be explicitly opted into using the <code>@main</code> macro &#40;see the docstring for further details&#41;. When opted-in, and <code>julia</code> is invoked to run a script or expression &#40;i.e. using <code>julia script.jl</code> or <code>julia -e expr</code>&#41;, <code>julia</code> will subsequently run the <code>Main.main</code> function automatically. This is intended to unify script and compilation workflows, where code loading may happen in the compiler and execution of <code>Main.main</code> may happen in the resulting executable. For interactive use, there is no semantic difference between defining a <code>main</code> function and executing the code directly at the end of the script.</p>
<h1 id="the_time_macro_now_reports_lock_conflicts"><a href="#the_time_macro_now_reports_lock_conflicts" class="header-anchor">The <code>@time</code> macro now reports lock conflicts</a></h1>
<p><em>Ian Butterworth</em></p>
<p>The <code>@time</code> macro will now report any lock contention within the call being timed, as a number of lock conflicts. A lock conflict is where a task attempted to lock a <code>ReentrantLock</code> that is already locked, and may indicate design issues that could be impeding concurrent performance.</p>
<p>In this example the number of conflicts is clearly expected, but locks could be buried deep in library code, making them hard to catch otherwise.</p>
<pre><code class="julia hljs">julia&gt; Threads.nthreads()
<span class="hljs-number">6</span>

julia&gt; <span class="hljs-keyword">function</span> foo()
          l = <span class="hljs-built_in">ReentrantLock</span>()
          Threads.<span class="hljs-meta">@threads</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>:Threads.nthreads()
              lock(l) <span class="hljs-keyword">do</span>
                  sleep(<span class="hljs-number">1</span>)
              <span class="hljs-keyword">end</span>
          <span class="hljs-keyword">end</span>
      <span class="hljs-keyword">end</span>
foo (generic <span class="hljs-keyword">function</span> with <span class="hljs-number">1</span> method)

julia&gt; <span class="hljs-meta">@time</span> foo()
  <span class="hljs-number">6.069761</span> seconds (<span class="hljs-number">28.14</span> k allocations: <span class="hljs-number">1.410</span> MiB, <span class="hljs-number">5</span> lock conflicts, <span class="hljs-number">1.34</span>% compilation time)</code></pre>
<h1 id="inference_enhancements"><a href="#inference_enhancements" class="header-anchor">Inference enhancements</a></h1>
<p><em>Keno Fisher</em>, <em>Shuhei Kadowaki</em></p>
<h4 id="exception_type_inference"><a href="#exception_type_inference" class="header-anchor">Exception type inference</a></h4>
<p>In v1.11, several new features have been added to inference.</p>
<p>The first feature we’d like to introduce is exception type inference. The Julia compiler is now able to infer the types of exception objects, significantly improving type stability in <code>catch</code> blocks. For example, in the following <code>demo_exc_inf</code> method, you can see that the type of the <code>err</code> object is inferred as <code>::Union&#123;Float64, DomainError&#125;</code> instead of <code>::Any</code> &#40;as was in v1.10&#41;:</p>
<pre><code class="julia hljs">julia&gt; <span class="hljs-keyword">function</span> demo_exc_inf(x::<span class="hljs-built_in">Float64</span>)
           <span class="hljs-keyword">local</span> v
           <span class="hljs-keyword">try</span>
               v = x &gt; <span class="hljs-number">0</span> ? sin(x) : throw(x)
           <span class="hljs-keyword">catch</span> err <span class="hljs-comment"># the type of `err` can be inferred &gt;v1.11</span>
               <span class="hljs-keyword">if</span> err <span class="hljs-keyword">isa</span> <span class="hljs-built_in">DomainError</span>
                   v = zero(x)
               <span class="hljs-keyword">else</span>
                   v = err
               <span class="hljs-keyword">end</span>
           <span class="hljs-keyword">end</span>
           <span class="hljs-keyword">return</span> v
       <span class="hljs-keyword">end</span>
demo_exc_inf (generic <span class="hljs-keyword">function</span> with <span class="hljs-number">1</span> method)

julia&gt; only(code_typed(demo_exc_inf, (<span class="hljs-built_in">Float64</span>,); optimize=<span class="hljs-literal">false</span>))
CodeInfo(
<span class="hljs-number">1</span> ──       Core.NewvarNode(:(v))::<span class="hljs-built_in">Any</span>
<span class="hljs-number">2</span> ── %<span class="hljs-number">2</span>  = enter <span class="hljs-comment">#8</span>
<span class="hljs-number">3</span> ── %<span class="hljs-number">3</span>  = (x &gt; <span class="hljs-number">0</span>)::<span class="hljs-built_in">Bool</span>
└───       goto <span class="hljs-comment">#5 if not %3</span>
<span class="hljs-number">4</span> ──       (<span class="hljs-meta">@_5</span> = Main.sin(x))::<span class="hljs-built_in">Float64</span>
└───       goto <span class="hljs-comment">#6</span>
<span class="hljs-number">5</span> ──       (<span class="hljs-meta">@_5</span> = Main.throw(x))::<span class="hljs-built_in">Union</span>{}
<span class="hljs-number">6</span> ┄─ %<span class="hljs-number">8</span>  = <span class="hljs-meta">@_5</span>::<span class="hljs-built_in">Float64</span>
│          (v = %<span class="hljs-number">8</span>)::<span class="hljs-built_in">Float64</span>
└───       $(<span class="hljs-built_in">Expr</span>(:leave, :(%<span class="hljs-number">2</span>)))
<span class="hljs-number">7</span> ──       goto <span class="hljs-comment">#12</span>
<span class="hljs-number">8</span> ┄─       (err = $(<span class="hljs-built_in">Expr</span>(:the_exception)))::<span class="hljs-built_in">Union</span>{<span class="hljs-built_in">Float64</span>, <span class="hljs-built_in">DomainError</span>}
│    %<span class="hljs-number">13</span> = err::<span class="hljs-built_in">Union</span>{<span class="hljs-built_in">Float64</span>, <span class="hljs-built_in">DomainError</span>}
│    %<span class="hljs-number">14</span> = (%<span class="hljs-number">13</span> <span class="hljs-keyword">isa</span> Main.<span class="hljs-built_in">DomainError</span>)::<span class="hljs-built_in">Bool</span>
└───       goto <span class="hljs-comment">#10 if not %14</span>
<span class="hljs-number">9</span> ──       (v = Main.zero(x))::Core.Const(<span class="hljs-number">0.0</span>)
└───       goto <span class="hljs-comment">#11</span>
<span class="hljs-number">10</span> ─ %<span class="hljs-number">18</span> = err::<span class="hljs-built_in">Float64</span>
└───       (v = %<span class="hljs-number">18</span>)::<span class="hljs-built_in">Float64</span>
<span class="hljs-number">11</span> ┄       $(<span class="hljs-built_in">Expr</span>(:pop_exception, :(%<span class="hljs-number">2</span>)))::Core.Const(<span class="hljs-literal">nothing</span>)
<span class="hljs-number">12</span> ┄ %<span class="hljs-number">21</span> = v::<span class="hljs-built_in">Float64</span>
└───       <span class="hljs-keyword">return</span> %<span class="hljs-number">21</span>
) =&gt; <span class="hljs-built_in">Float64</span></code></pre>
<p>You can check the summarized result of type inference for exception objects that a particular method call may raise using <code>Base.infer_exception_type</code>.</p>
<pre><code class="julia hljs">julia&gt; Base.infer_exception_type(sin, (<span class="hljs-built_in">Float64</span>,))
<span class="hljs-built_in">DomainError</span></code></pre>
<p>However note that the accuracy of exception type inference is not yet very high. It generally works well only when the <code>try</code> block contains basic functions. In particular, it often fails to provide accurate results for <code>try</code> blocks that might call functions involving external calls, such as <code>ccall</code>.</p>
<h4 id="escape_analysis"><a href="#escape_analysis" class="header-anchor">Escape analysis</a></h4>
<p>The next feature we’d like to introduce is Julia-level escape analysis &#40;<a href="https://docs.julialang.org/en/v1/devdocs/EscapeAnalysis/"><code>Core.Compiler.EscapeAnalysis</code></a>&#41;. While <code>Core.Compiler.EscapeAnalysis</code> was implemented back in v1.8, it was not enabled in the actual compilation pipeline due to issues with its precision and latency.</p>
<p>As a first step towards leveraging <code>EscapeAnalysis</code> for various optimizations, in v1.11, it is now selectively enabled in the actual compilation pipeline with the goal of improving the precision of effects analysis for methods involving non-escaping mutation allocations.</p>
<p>Currently, the precision of <code>EscapeAnalysis</code> is not very high, and it struggles to perform well for functions with complex memory operations. As a result, it has not yet been used for other purposes. However, we plan to continue improving it and apply it to various optimizations such as more aggressive constant propagation, better SROA &#40;Scalar Replacements of Aggregates&#41;, <code>finalizer</code> optimization, and stack allocation.</p>
</div><br><br>

<!-- CONTENT ENDS HERE -->
    
    
        <script src="/libs/highlight/highlight.min.js"></script>


    

    <!-- http://tutsplus.github.io/clipboard/ -->

<script>
(function(){

	// Get the elements.
	// - the 'pre' element.
	// - the 'div' with the 'paste-content' id.

	var pre = document.getElementsByTagName('pre');

	// Add a copy button in the 'pre' element.
	// which only has the className of 'language-' or ' hljs'(if enable highlight.js pre-render).

	for (var i = 0; i < pre.length; i++) {
		var tag_name = pre[i].children[0].className
            	var isLanguage = tag_name.startsWith('language-') || tag_name.endsWith(' hljs');
		if ( isLanguage ) {
			var button           = document.createElement('button');
					button.className = 'copy-button';
					button.textContent = 'Copy';

					pre[i].appendChild(button);
		}
	};

	// Run Clipboard

	var copyCode = new Clipboard('.copy-button', {
		target: function(trigger) {
			return trigger.previousElementSibling;
    }
	});

	// On success:
	// - Change the "Copy" text to "Copied".
	// - Swap it to "Copy" in 2s.
	// - Lead user to the "contenteditable" area with Velocity scroll.

	copyCode.on('success', function(event) {
		event.clearSelection();
		event.trigger.textContent = 'Copied';
		window.setTimeout(function() {
			event.trigger.textContent = 'Copy';
		}, 2000);

	});

	// On error (Safari):
	// - Change the  "Press Ctrl+C to copy"
	// - Swap it to "Copy" in 2s.

	copyCode.on('error', function(event) {
		event.trigger.textContent = 'Press "Ctrl + C" to copy';
		window.setTimeout(function() {
			event.trigger.textContent = 'Copy';
		}, 5000);
	});

})();
</script>


    <footer class="container-fluid footer-copy">
  <div class="container">
    <div class="row footrow">
      <ul>
        <li><a href="/project">About</a></li>
        <li><a href="/about/help">Get Help</a></li>
        <li><a href="/governance/">Governance</a></li>
        <li><a href="/research/#publications">Publications</a></li>
        <li><a href="/research/#sponsors">Sponsors</a></li>
      </ul>
      <ul>
        <li><a href="/downloads/">Downloads</a></li>
        <li><a href="/downloads/">All Releases</a></li>
        <li><a href="https://github.com/JuliaLang/julia">Source Code</a></li>
        <li><a href="/downloads/#current_stable_release">Current Stable Release</a></li>
        <li><a href="/downloads/#long_term_support_release">Longterm Support Release</a></li>
      </ul>
      <ul>
        <li><a href="https://docs.julialang.org/en/v1/">Documentation</a></li>
        <li><a href="https://juliaacademy.com">JuliaAcademy</a></li>
        <li><a href="https://www.youtube.com/user/JuliaLanguage">YouTube</a></li>
        <li><a href="/learning/getting-started/">Getting Started</a></li>
        <li><a href="https://docs.julialang.org/en/v1/manual/faq/">FAQ</a></li>
        <li><a href="/learning/books">Books</a></li>
      </ul>
      <ul>
        <li><a href="/community/">Community</a></li>
        <li><a href="/community/standards/">Code of Conduct</a></li>
        <li><a href="/community/stewards/">Stewards</a></li>
        <li><a href="/diversity/">Diversity</a></li>
        <li><a href="https://juliagenderinclusive.github.io">Julia Gender Inclusive</a></li>
        <li><a href="https://juliacon.org">JuliaCon</a></li>
        <li><a href="/community/#julia_user_and_developer_survey">User/Developer Survey</a></li>
        <li><a href="/shop/">Shop Merchandise</a></li>
      </ul>
      <ul>
        <li><a href="https://github.com/JuliaLang/julia/blob/master/CONTRIBUTING.md">Contributing</a></li>
        <li><a href="/contribute">Contributor's Guide</a></li>
        <li><a href="https://github.com/JuliaLang/julia/issues">Issue Tracker</a></li>
        <li><a href="https://github.com/JuliaLang/julia/security/policy">Report a Security Issue</a></li>
        <li><a href="https://github.com/search?q=is%3Aopen+is%3Aissue+language%3AJulia+label%3A%22help+wanted%22">Help Wanted Issues</a></li>
        <li><a href="https://github.com/search?q=is%3Aopen+is%3Aissue+language%3AJulia+label%3A%22good+first+issue%22">Good First Issue</a></li>
        <li><a href="https://docs.julialang.org/en/v1/devdocs/init/">Dev Docs</a></li>
      </ul>
    </div>
    <div id="footer-bottom" class="row">
      <div class="col-md-10 py-2">
        <p>Last modified: October 08, 2024. This site is powered by <a href="https://www.netlify.com">Netlify</a>, <a href="https://franklinjl.org">Franklin.jl</a>, and the <a href="https://julialang.org">Julia Programming Language</a>.</p>
        <p>We thank <a href="https://www.fastly.com">Fastly</a> for their generous infrastructure support.</p>
        <p>©2024 JuliaLang.org <a href="https://github.com/JuliaLang/www.julialang.org/graphs/contributors">contributors</a>. The content on this website is made available under the <a href="https://github.com/JuliaLang/www.julialang.org/blob/master/LICENSE.md">MIT license</a>.</p>
      </div>
      <div class="col-md-2 py-2">
        <span class="float-sm-right">
          <a class="github-button" href="https://github.com/sponsors/julialang" data-icon="octicon-heart" data-size="large" aria-label="Sponsor @julialang on GitHub">Sponsor</a>
        </span>
      </div>
    </div>
  </div>
</footer>

<script src="/libs/jquery/jquery.min.js"></script>
<script src="/libs/bootstrap/bootstrap.min.js"></script>
<!-- <script src="/libs/highlight/highlight.min.js"></script> -->
<!--  -->

    <script src="/libs/groups.js"></script>
    <script src="/libs/map.js"></script>
  </body>
</html>
